<div class="admin-container">
  <h2>📦 Manage Products</h2>

  <!-- Product List -->
  <div *ngIf="!editingProduct" class="table-container">
    <table class="admin-table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Name</th>
          <th>Price</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of products">
          <td>
            <img [src]="p.images[0]" alt="{{p.name}}" class="thumb">
          </td>
          <td>{{ p.name }}</td>
<td>
  <ng-container *ngIf="!p.isSoldOut; else soldOut">
    ₹{{ p.price }}
  </ng-container>
  <ng-template #soldOut>
    <span class="sold-out-badge">Sold Out</span>
  </ng-template>
</td>
          <td>{{ p.category }}</td>
          <td>
            <button class="btn edit" (click)="editProduct(p)">✏️ Edit</button>
            <button class="btn delete" (click)="deleteProduct(p.id)">🗑️ Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Edit Form -->
  <div *ngIf="editingProduct" class="edit-form">
    <h3>✏️ Edit Product</h3>
    <form (ngSubmit)="saveProduct()">
      <label>Name</label>
      <input [(ngModel)]="editingProduct.name" name="name" required>

 <label class="soldout-toggle">
  <input
    type="checkbox"
    [(ngModel)]="editingProduct.isSoldOut"
    name="isSoldOut"
  />
  <span>Mark as Sold Out</span>
</label>



      <label>Price</label>
      <input type="number" [(ngModel)]="editingProduct.price" name="price" required>

      <label>Category</label>
      <input [(ngModel)]="editingProduct.category" name="category" required>

      <label>Description</label>
      <textarea [(ngModel)]="editingProduct.description" name="description"></textarea>

      <label>Colors (comma separated)</label>
      <input [(ngModel)]="editingProduct.colors" name="colors">

      <label>Image URLs (comma separated)</label>
      <textarea [(ngModel)]="editingProduct.images" name="images"></textarea>

      <div class="form-actions">
        <button type="submit" class="btn save">💾 Save</button>
        <button type="button" class="btn cancel" (click)="cancelEdit()">✖ Cancel</button>
      </div>
    </form>
  </div>
</div>
